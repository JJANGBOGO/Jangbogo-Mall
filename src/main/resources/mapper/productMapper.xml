<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jangbogo.mall.dao.ProductMapper">

    <select id="getListBySeller" resultType="ProductDto">
        SELECT P.SELER_PROD_CD,
               P.UPLOAD_PATH,
               P.NAME,
               P.CTENT,
               P.PRC,
               P.DSPLY_STATE_CD,
               P.ASCR,
               D.REG_STATE_CD
        FROM PRODUCT AS P
                 INNER JOIN PROD_DTL D ON P.IDX = D.PROD_IDX AND P.SELER_IDX = #{seler_idx};
    </select>

    <insert id="insertProduct" parameterType="ProductDto">
        insert into PRODUCT (SELER_IDX, CATE_IDX, SELER_PROD_CD, UPLOAD_PATH, NAME, CTENT, PRC, DC_STATE_CD, DC_RATE,
                             DSPLY_STATE_CD, RESV_PHOTO_UPLOAD_PATH)
        values (#{seler_idx},
                #{cate_idx},
                #{seler_prod_cd},
                #{upload_path},
                #{name},
                #{ctent},
                #{prc},
                #{dc_state_cd},
                #{dc_rate},
                #{dsply_state_cd},
                #{upload_path});
    </insert>
</mapper>